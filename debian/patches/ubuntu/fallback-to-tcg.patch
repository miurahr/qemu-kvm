Description: If kvm can't be used, default to tcg.
 qemu-kvm has changed its default behavior.  If no accel= option is
 specified, then it only tries kvm.  If kvm is not supported, it fails.
 Change that, until LTS, to support tcg (un-accelerated qemu).  After
 LTS, we can drop this patch and require '-machine pc,accel=kvm:tcg'
 for legacy behavior.
Author: Serge Hallyn <serge.hallyn@ubuntu.com>
Bug-Ubuntu: https://bugs.launchpad.net/ubuntu/+source/qemu-kvm/+bug/892050
Forwarded: no

--- a/hw/pc_piix.c
+++ b/hw/pc_piix.c
@@ -354,7 +354,7 @@
 #endif
 
 #ifdef CONFIG_KVM_OPTIONS
-#define KVM_MACHINE_OPTIONS "accel=kvm"
+#define KVM_MACHINE_OPTIONS "accel=kvm:tcg"
 #else
 #define KVM_MACHINE_OPTIONS ""
 #endif
